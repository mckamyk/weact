<!DOCTYPE html>

<head>

</head>

<body>
	<script type="module">
		const path = '/widgets/demo.js'
		const widget = import(path).then(w => w.default);
		import { createElement, render } from "/utils/mounter.js"
		import { LitElement, html } from "/utils/litWrapper.js"

		class TestElement extends LitElement {
			static properties = {
				test: { type: String }
			}

			get container() {
				return this.shadowRoot.getElementById("container")
			}

			updated() {
				this.preactRender()
			}

			async preactRender() {
				const w = await widget
				const pel = createElement(w, { test: this.test })
				render(pel, this.container)
			}

			render() {
				return html`
					<div id="container"></div>
				`;
			}
		}

		customElements.define("test-el", TestElement)
	</script>
	<div>hi</div>
	<test-el test="hi there" />
</body>